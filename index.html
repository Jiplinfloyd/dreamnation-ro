<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Choisis ton Running Order - Dream Nation</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
:root{
  --bg: #0a0a0f;
  --bg2:#0e0e16;
  --text:#e9eef2;
  --muted:#9aa3ab;
  --card:#12121c;
  --stroke:#222334;
  --accent1:#ff00e6;   /* magenta */
  --accent2:#00e5ff;   /* cyan */
  --gold:#FFD700;      /* pour ton PDF / tableaux */
}

*{box-sizing:border-box}
html,body{margin:0}
body{
  background:
    radial-gradient(1200px 600px at 10% -10%, #11131f 0%, transparent 60%),
    radial-gradient(1000px 500px at 110% 10%, #0f1130 0%, transparent 60%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg2) 100%);
  color:var(--text);
  font-family: "Montserrat", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  text-align:center;
  padding:28px 20px 40px;
}

/* Titres */
h1{
  margin:0 0 12px;
  font-weight:800; letter-spacing:.5px;
  text-transform:uppercase;
  background: linear-gradient(90deg, var(--accent1), var(--accent2));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  text-shadow: 0 0 16px rgba(255,0,230,.15), 0 0 18px rgba(0,229,255,.12);
}

.day-group{margin:36px auto 28px; max-width:1100px; text-align:left;}
.day-group h3{
  margin:0 0 14px; padding:0 2px;
  font-size:20px; font-weight:800; letter-spacing:.5px; text-transform:uppercase;
  color:#fff;
  position:relative;
}
.day-group h3::after{
  content:"";
  display:block; height:3px; margin-top:8px; border-radius:3px;
  background:linear-gradient(90deg,var(--accent1),var(--accent2));
  box-shadow: 0 0 18px rgba(255,0,230,.35), 0 0 22px rgba(0,229,255,.3);
}

/* Boutons */
button{
  font-size:15px; font-weight:700; letter-spacing:.3px; text-transform:uppercase;
  padding:12px 18px; border:none; border-radius:12px; cursor:pointer;
  color:#081018;
  background:linear-gradient(90deg, var(--accent1), var(--accent2));
  box-shadow: 0 8px 24px rgba(0,229,255,.18), inset 0 0 0 1px rgba(255,255,255,.06);
  transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
}
button:hover{ transform: translateY(-1px); filter:brightness(1.05); }
button:active{ transform: translateY(0); }

/* Grille des cr√©neaux */
.slot{
  display:flex; flex-direction:column; gap:12px;
  max-width:1000px; margin:16px auto; text-align:left;
  padding-left:12px; border-left:3px solid transparent;
  border-image: linear-gradient(180deg, var(--accent1), var(--accent2)) 1;
}
.slot .heure{
  font-weight:800; letter-spacing:.5px;
  color:#fff; opacity:.95;
}

/* Conteneur des options : en flex, retour √† la ligne */
.slot .options{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}

/* Les cartes artistes s'adaptent, mais jamais trop petites */
.option{
  flex:1 1 280px; /* ‚Üê largeur mini 280px, s'√©tire sinon */
}


/* Cartes cliquables (glass) */
.option{
  position:relative;
  border:1px solid var(--stroke);
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));
  border-radius:16px; padding:12px 14px; cursor:pointer;
  transition: border-color .15s, box-shadow .15s, background .15s, transform .05s;
}
.option:hover{ border-color:#2d2f45; background:rgba(255,255,255,.03); }
.option strong{ display:block; font-weight:800; color:#fff; }
.option small { display:block; margin-top:4px; color:var(--muted); }

/* cacher le radio */
.option input[type="radio"]{
  position:absolute; opacity:0; width:0; height:0; pointer-events:none;
}

/* √©tat s√©lectionn√© via :has (modern) + fallback .selected */
.option:has(input[type="radio"]:checked),
.option.selected{
  border-color:transparent;
  background: rgba(10,20,30,.25);
  box-shadow:
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 0 24px rgba(255,0,230,.20),
    0 0 28px rgba(0,229,255,.18);
}
.option:has(input[type="radio"]:checked) strong,
.option:has(input[type="radio"]:checked) small,
.option.selected strong,
.option.selected small{
  color:#e8fbff;
  text-shadow: 0 0 10px rgba(0,229,255,.25);
}

/* R√©sultats */
#resultats h2{
  text-transform:uppercase; letter-spacing:.5px;
}

table {
  background: #0d1117;
  border-radius: 14px;
  overflow: hidden;
  color: #fff;
  border-collapse: collapse;
  font-family: Montserrat, sans-serif;
  font-size: 12px;
}
th {
  background: linear-gradient(90deg, #ff00e6, #00e5ff);
  color: #fff;
  text-transform: uppercase;
  font-size: 13px;
  padding: 8px;
}
td {
  border: 1px solid #333;
  padding: 8px;
}


/* Mobile */
@media (max-width:740px){
  body{ padding:18px 14px 28px; }
}

.hidden {
  display: none;
}

#liste-resultats table td,
#liste-resultats table th {
  box-shadow: 0 0 6px rgba(128,0,255,0.6);
}

.jour-titre {
  margin: 40px 0 10px;
  font-size: 2.2em;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-align: center;
  background: linear-gradient(90deg, #ff00e6, #00e5ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-fill-color: transparent;
  text-shadow: 0 0 18px rgba(255,0,230,0.25),
               0 0 22px rgba(0,229,255,0.25);
  position: relative;
  display: inline-block;
  padding-bottom: 10px;
}

.jour-titre::after {
  content: "";
  display: block;
  height: 4px;
  margin: 10px auto 0;
  width: 80%;
  max-width: 400px;
  border-radius: 2px;
  background: linear-gradient(90deg, #ff00e6, #00e5ff);
  box-shadow: 0 0 12px rgba(255,0,230,.6), 0 0 16px rgba(0,229,255,.6);
}


.jour-titre {
  margin: 40px 0 20px;
  font-size: 2.2em;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-align: center;
  color: #fff;

  background: linear-gradient(90deg, #ff00e6, #00e5ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-fill-color: transparent;

  text-shadow: 0 0 18px rgba(255,0,230,0.25),
               0 0 22px rgba(0,229,255,0.25);
}

.option-none {
  width: 120px;      /* largeur fixe */
  height: 70px;      /* hauteur fixe */
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.option-none strong {
  font-size: 14px;
}

.option-none small {
  display: none; /* inutile pour "Aucun" */
}

.option.selected {
  border-color: transparent;
  background: rgba(10,20,30,.45);
  box-shadow: 0 0 18px rgba(255,0,230,.35), 0 0 22px rgba(0,229,255,.35);
}

.option.selected strong {
  color: #ff00e6; /* texte principal n√©on rose */
}

.option.selected small {
  color: #00e5ff; /* sous-texte en cyan */
}

/* Couleurs du texte quand s√©lectionn√© */
.option.selected strong { color:#ff00e6 !important; }  /* rose n√©on */
.option.selected small  { color:#00e5ff !important; }  /* cyan */

/* Si le navigateur supporte :has, colorer aussi via :has() */
.option:has(input[type="radio"]:checked) strong { color:#ff00e6 !important; }
.option:has(input[type="radio"]:checked) small  { color:#00e5ff !important; }

/* Pulse n√©on doux sur l'option s√©lectionn√©e */
@keyframes neonPulse{
  0%,100%{
    box-shadow:
      0 0 0 1px rgba(255,255,255,.06) inset,
      0 0 18px rgba(255,0,230,.28),
      0 0 22px rgba(0,229,255,.26);
  }
  50%{
    box-shadow:
      0 0 0 1px rgba(255,255,255,.08) inset,
      0 0 28px rgba(255,0,230,.45),
      0 0 34px rgba(0,229,255,.42);
  }
}

/* Appliquer le pulse uniquement √† l'√©tat s√©lectionn√© */
.option.selected,
.option:has(input[type="radio"]:checked){
  animation: neonPulse 1.6s ease-in-out infinite;
}

/* Respecte la pr√©f√©rence "r√©duire les animations" */
@media (prefers-reduced-motion: reduce){
  .option.selected,
  .option:has(input[type="radio"]:checked){
    animation: none;
  }
}

.hidden { display: none; }


  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
  <h1>üé∫ Fais ton choix pour chaque cr√©neau</h1>

  <div id="selection-jours">
    <p>Quels jours fais-tu au festival ?</p>
    <label><input type="checkbox" value="Vendredi 26" checked> Vendredi</label><br>
    <label><input type="checkbox" value="Samedi 27" checked> Samedi</label><br>
    <button id="btnStart" type="button">Commencer</button>
  </div>

  <div id="choix" class="hidden"></div>
  <div id="resultats" class="hidden">
  <h2>üéâ Ton Running Order</h2>
  <ul id="liste-resultats"></ul>
  <button onclick="genererPDF()">üìÖ T√©l√©charger en PDF</button>
</div>



  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
	  let joursChoisis = [];

	  /* --- GARDE ICI TON OBJET donneesFestival TEL QUEL --- */
		let donneesFestival = {
		  "Samedi 27": [
		  		{ heure: "20h30", artistes: [
				  { nom: "HIBI", style: "Trancy/Groovy", scene: "Organik Stage" },
				]},
				{ heure: "21h00", artistes: [
				  { nom: "ASDEK", style: "Bass House", scene: "Bassquake Stage" },
				]},
				{ heure: "21h10", artistes: [
				  { nom: "HILIGHT TRIBE", style: "Trance / Tribal (Live)", scene: "Lunar Stage" },
				]},
				{ heure: "21h45", artistes: [
				  { nom: "MALAA √ó ALTER EGO", style: "House / Bass House", scene: "Bassquake Stage" },
				]},
				{ heure: "22h00", artistes: [
				  { nom: "PEAKSOU", style: "Trance/Hypertechno", scene: "Organik Stage" },
				]},
				{ heure: "23h00", artistes: [
				  { nom: "PERCEVAL", style: "Psytrance", scene: "Lunar Stage" },
				  { nom: "MANIL", style: "Hard Techno/Groove", scene: "Organik Stage" },
				]},
				{ heure: "23h15", artistes: [
				  { nom: "ZOMBOY", style: "Dubstep", scene: "Bassquake Stage" },
				]},
				{ heure: "00h00", artistes: [
				  { nom: "LB AKA LABAT", style: "Electro / House", scene: "Lunar Stage" },
				  { nom: "25EMEHEURE", style: "Hard Techno", scene: "Organik Stage" },
				]},
				{ heure: "00h15", artistes: [
				  { nom: "WILKINSON", style: "Drum & Bass", scene: "Bassquake Stage" },
				]},
				{ heure: "1h00", artistes: [
				  { nom: "FUNK TRIBU b2b MISCHLUFT", style: "Techno", scene: "Lunar Stage" },
				]},
				{ heure: "1h15", artistes: [
				  { nom: "ANDY C", style: "Drum & Bass", scene: "Bassquake Stage" },
				]},
				{ heure: "1h30", artistes: [
				  { nom: "N√òNAME", style: "Techno / Electro", scene: "Organik Stage" },
				]},
				{ heure: "2h15", artistes: [
				  { nom: "VINI VICI", style: "Psytrance", scene: "Lunar Stage" },
				  { nom: "KAYZO b2b MUST DIE!", style: "Bass / Hard Dance / Dubstep", scene: "Bassquake Stage" },
				]},
				{ heure: "3h00", artistes: [
				  { nom: "BALAGAN", style: "Techno", scene: "Organik Stage" },
				]},
				{ heure: "3h15", artistes: [
				  { nom: "ASTRIX", style: "Psytrance", scene: "Lunar Stage" },
				  { nom: "KANINE b2b SOTA", style: "Drum & Bass", scene: "Bassquake Stage" },
				]},
				{ heure: "4h00", artistes: [
				  { nom: "OBDTN", style: "Techno", scene: "Organik Stage" },
				]},
				{ heure: "4h15", artistes: [
				  { nom: "ACE VENTURA", style: "Progressive Psytrance", scene: "Lunar Stage" },
				  { nom: "INFEKT b2b SAMPLIFIRE", style: "Riddim / Dubstep", scene: "Bassquake Stage" },
				]},
				{ heure: "5h00", artistes: [
				  { nom: "RHADAMANTHE", style: "Techno", scene: "Organik Stage" },
				]},
				{ heure: "5h15", artistes: [
				  { nom: "MANDIDEXTROUS", style: "Jungle / 160-170", scene: "Bassquake Stage" },
				  { nom: "EARGASM GOD", style: "Techno", scene: "Lunar Stage" },
				]},
		  ],
		  "Vendredi 26": [
				{ heure: "21h00", artistes: [
				  { nom: "SKONE & PROTOSKEED present SILENCE", style: "Tekno", scene: "Warzone Stage" },
				  { nom: "NICE KEED", style: "Fast & Hard Techno", scene: "Pulsar Stage" },
				]},
				{ heure: "22h00", artistes: [
				  { nom: "SPICE UP!", style: "Tekno", scene: "Warzone Stage" },
				  { nom: "LUX", style: "Hard Trance", scene: "2much stage" },
				]},
				{ heure: "22h15", artistes: [
				  { nom: "ZORZA", style: "Hyper Techno", scene: "Pulsar Stage" },
				]},
				{ heure: "23h00", artistes: [
				  { nom: "MAD DOG", style: "Hardcore italien", scene: "Warzone Stage" },
				]},
				{ heure: "23h15", artistes: [
				  { nom: "ACENDANT VIERGE", style: "Avant-garde Electro", scene: "Pulsar Stage" },
				]},
				{ heure: "23h30", artistes: [
				  { nom: "SHOSHANA", style: "Hard Techno/Ghetto beats/Groove", scene: "2much stage" },
				]},
				{ heure: "23h45", artistes: [
				  { nom: "VON BIKRAV", style: "Gangsta rap Gabber", scene: "Warzone Stage" },
				]},
				{ heure: "00h15", artistes: [
				  { nom: "999999999", style: "Acid Techno", scene: "Pulsar Stage" },
				]},
				{ heure: "00h30", artistes: [
				  { nom: "SUB ZERO PROJECT", style: "Hardstyle", scene: "Warzone Stage" },
				]},
				{ heure: "1h00", artistes: [
				  { nom: "SIBI", style: "Trance/Hardstyle/Hardcore oldschool", scene: "2much stage" },
				]},
				{ heure: "1h15", artistes: [
				  { nom: "OGUZ", style: "Techno", scene: "Pulsar Stage" },
				]},
				{ heure: "1h30", artistes: [
				  { nom: "ROOLER", style: "Raw Hardstyle", scene: "Warzone Stage" },
				]},
				{ heure: "2h15", artistes: [
				  { nom: "DYEN b2b STAN CHRIST", style: "Neorave / Hard Techno", scene: "Pulsar Stage" },
				  { nom: "SHANIXX", style: "Techno bitchy 2000", scene: "2much stage" },
				]},
				{ heure: "2h30", artistes: [
				  { nom: "BILLX b2b VANDAL", style: "Hardtek / Raggatek", scene: "Warzone Stage" },
				]},
				{ heure: "3h30", artistes: [
				  { nom: "REINIER ZONNEVELD b2b ANGERFIST", style: "Techno", scene: "Pulsar Stage" },
				  { nom: "SEFA", style: "Frenchcore", scene: "Warzone Stage" },
				  { nom: "DJ SCHNAKE", style: "Chipiecore/Trance/happy Hardcore/pop", scene: "2much stage" },
				]},
				{ heure: "4h30", artistes: [
				  { nom: "VIEZE ASBAK", style: "Hard Techno", scene: "Pulsar Stage" },
				]},
				{ heure: "4h45", artistes: [
				  { nom: "MISS K8 b2b ANIME", style: "Hardcore", scene: "Warzone Stage" },
				  { nom: "AVENIR", style: "Acid rave/Hard Techno/Electro/Punk rock", scene: "2much stage" },
				]},
				{ heure: "5h15", artistes: [
				  { nom: "HADES", style: "Melodic Industrial Techno", scene: "Pulsar Stage" },
				]},
				{ heure: "5h20", artistes: [
				  { nom: "MAJOR CONSPIRACY b2b PARTYRAISER", style: "Hardcore Uptempo", scene: "Warzone Stage" },
				]},
		  ],
		};

	  function demarrerChoix() {
		joursChoisis = Array.from(document.querySelectorAll('#selection-jours input[type=checkbox]:checked')).map(cb => cb.value);
		document.getElementById('selection-jours').classList.add('hidden');
		genererChoix();
	  }

	  function genererChoix() {
		  const choixDiv = document.getElementById('choix');
		  choixDiv.innerHTML = '';

		  joursChoisis.forEach(jour => {
			const jourDiv = document.createElement('div');
			jourDiv.classList.add('day-group');
			jourDiv.innerHTML = `<h3>${jour}</h3>`;
			if (!donneesFestival[jour]) return;

			donneesFestival[jour].forEach(slot => {
			  const slotDiv = document.createElement('div');
			  slotDiv.className = 'slot';

			  const hEl = document.createElement('div');
			  hEl.className = 'heure';
			  hEl.textContent = slot.heure || '';
			  slotDiv.appendChild(hEl);

			  const options = document.createElement('div');
			  options.className = 'options';
			  const groupName = `${jour}_${slot.heure}`;

			  // "Aucun"
			  const optNone = document.createElement('label');
			  optNone.className = 'option option-none selected';
			  optNone.innerHTML = `
				<input type="radio" name="${groupName}" value="Aucun" checked>
				<strong>Aucun</strong>
				<small>‚Äî</small>
			  `;
			  options.appendChild(optNone);

			  // Artistes
			  (slot.artistes || []).forEach((a, idx) => {
				const opt = document.createElement('label');
				opt.className = 'option';
				const id = `${groupName}_art${idx}`;
				opt.innerHTML = `
				  <input type="radio" id="${id}" name="${groupName}" value="${a.nom}">
				  <strong>${a.nom}</strong>
				  <small>${a.style} <span style="opacity:.6">‚Ä¢</span> ${a.scene}</small>
				`;
				options.appendChild(opt);
			  });

			  slotDiv.appendChild(options);
			  jourDiv.appendChild(slotDiv);
			});

			choixDiv.appendChild(jourDiv);
		  });

		  // ‚Üê Un SEUL bouton, ajout√© proprement en JS
		  const validateBtn = document.createElement('button');
		  validateBtn.type = 'button';
		  validateBtn.textContent = 'Valider mes choix';
		  validateBtn.addEventListener('click', afficherResultats);
		  choixDiv.appendChild(validateBtn);

		  choixDiv.classList.remove('hidden');
		}


	  function afficherResultats() {
		const resultatsDiv = document.getElementById('resultats');
		const listeResultats = document.getElementById('liste-resultats');

		// Nettoyage
		listeResultats.innerHTML = '';
		resultatsDiv.querySelectorAll('.back-btn').forEach(btn => btn.remove());

		// Styles du tableau (fond blanc + lignes violettes)
		const cellStyle   = 'border: 1px solid #8000ff; padding: 8px; font-size: 1em; color: #111; background-color: #ffffff;';
		const headerStyle = 'border: 1px solid #8000ff; padding: 8px; font-size: 1em; font-weight: bold; background-color: #8000ff; color: #ffffff;';

		joursChoisis.forEach(jour => {
		  if (!donneesFestival[jour]) return;

		  const titre = document.createElement('h2');
		  titre.className = 'jour-titre';
		  titre.textContent = jour;
		  titre.style.marginTop = '50px';
		  titre.style.marginBottom = '20px';
		  listeResultats.appendChild(titre);

		  const table = document.createElement('table');
		  table.style.margin = '0 auto 40px auto';
		  table.style.borderCollapse = 'collapse';
		  table.style.width = '100%';
		  table.style.maxWidth = '1000px';

		  const headerRow = document.createElement('tr');
		  ['Heure', 'Artiste', 'Sc√®ne', 'Style'].forEach(text => {
			const th = document.createElement('th');
			th.style.cssText = headerStyle;
			th.textContent = text;
			headerRow.appendChild(th);
		  });
		  table.appendChild(headerRow);

		  donneesFestival[jour].forEach(slot => {
			const radios = document.querySelectorAll(`input[name="${jour}_${slot.heure}"]`);
			radios.forEach(radio => {
			  if (radio.checked && radio.value !== "Aucun") {
				const artiste = slot.artistes.find(a => a.nom === radio.value);
				if (!artiste) return;
				const row = document.createElement('tr');
				[slot.heure, artiste.nom, artiste.scene, artiste.style].forEach(text => {
				  const td = document.createElement('td');
				  td.style.cssText = cellStyle;
				  td.textContent = text;
				  row.appendChild(td);
				});
				table.appendChild(row);
			  }
			});
		  });

		  listeResultats.appendChild(table);
		});

		// Bouton retour (unique)
		const backBtn = document.createElement('button');
		backBtn.type = 'button';
		backBtn.className = 'back-btn';
		backBtn.textContent = '‚¨ÖÔ∏è Revenir aux choix';
		backBtn.addEventListener('click', revenirAuxChoix);
		resultatsDiv.appendChild(backBtn); // <-- manquait

		document.getElementById('choix').classList.add('hidden');
		resultatsDiv.classList.remove('hidden');


		document.getElementById('choix').classList.add('hidden');
		resultatsDiv.classList.remove('hidden');
	  }

	  function revenirAuxChoix() {
		const res = document.getElementById('resultats');
		res.querySelectorAll('.back-btn').forEach(btn => btn.remove());
		res.classList.add('hidden');
		document.getElementById('choix').classList.remove('hidden');
	  }

	  function genererPDF() {
		const { jsPDF } = window.jspdf;
		const doc = new jsPDF('l', 'pt', 'a4');
		doc.html(document.getElementById('liste-resultats'), {
		  callback: function (doc) { doc.save('RunningOrder.pdf'); },
		  margin: [40, 20, 40, 20],
		  autoPaging: 'text',
		  html2canvas: { scale: 0.8 }
		});
	  }

	  // Surbrillance (fallback si :has indisponible)
	  document.addEventListener('change', (e) => {
		if (!e.target.matches('.option input[type="radio"]')) return;
		const group = e.target.name;
		document.querySelectorAll(`input[name="${group}"]`).forEach(inp => {
		  const card = inp.closest('.option');
		  if (card) card.classList.toggle('selected', inp.checked);
		});
	  });
	  
	  // Active le bouton Commencer (√©vite onClick inline qui bug sur iOS)
window.addEventListener('DOMContentLoaded', () => {
  const start = document.getElementById('btnStart');
  if (start) start.addEventListener('click', demarrerChoix);
});

  </script>

</body>
</html>

